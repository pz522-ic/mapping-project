<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module Management System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .tab {
            display: none;
        }
        .tab.active {
            display: block;
        }
        .tab-header {
            display: flex;
            justify-content: space-around;
            background-color: #f1f1f1;
            padding: 10px;
            cursor: pointer;
        }
        .tab-content {
            padding: 20px;
        }
        .module-card {
            border: 2px solid #4CAF50;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        .module-card h3 {
            margin-bottom: 10px;
        }
        .prereq-card {
            border: 2px solid #FF5733;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        .year-card {
            border: 2px solid #00BFFF;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

<h1>Module Management System</h1>

<div class="tab-header">
    <div class="tab-link" data-tab="tab1">Modules Completed</div>
    <div class="tab-link" data-tab="tab2">Modules Wanted</div>
    <div class="tab-link" data-tab="tab3">Module Information</div>
    <div class="tab-link" data-tab="tab4">Module Relationships</div>
</div>

<div id="tab1" class="tab active">
    <div class="tab-content">
        <h2>Modules Completed</h2>
        <p>Select the modules you have completed:</p>
        <select id="completed-modules" multiple>
            <!-- Options will be populated by JavaScript -->
        </select>
        <h3>Modules you can take next:</h3>
        <div id="available-modules">
            <!-- Available modules will be displayed here -->
        </div>
    </div>
</div>

<div id="tab2" class="tab">
    <div class="tab-content">
        <h2>Modules Wanted</h2>
        <p>Select the modules you want to take:</p>
        <select id="desired-modules" multiple>
            <!-- Options will be populated by JavaScript -->
        </select>
        <h3>Prerequisites needed:</h3>
        <div id="prerequisites">
            <!-- Prerequisites will be displayed here -->
        </div>
    </div>
</div>

<div id="tab3" class="tab">
    <div class="tab-content">
        <h2>Module Information by Year</h2>
        <div id="modules-by-year">
            <!-- Modules by year will be displayed here -->
        </div>
    </div>
</div>

<div id="tab4" class="tab">
    <div class="tab-content">
        <h2>Module Relationships</h2>
        <p>The following graph shows the relationships and prerequisites between modules.</p>
        <div id="module-graph" style="height: 500px; background-color: #f9f9f9; border: 1px solid #ccc;">
            <!-- Graph will be rendered here -->
        </div>
    </div>
</div>

<script>
    const modulesDb = {
        "Mathematics I": {
            "prerequisites": [],
            "summary": "Introduction to basic concepts in mathematics.",
            "term": "Autumn",
            "lecturer": "Dr. Alice Smith"
        },
        "Mathematics II": {
            "prerequisites": ["Mathematics I"],
            "summary": "Advanced topics in mathematics.",
            "term": "Spring",
            "lecturer": "Dr. Bob Jones"
        },
        "Physics I": {
            "prerequisites": [],
            "summary": "Fundamentals of physics.",
            "term": "Autumn",
            "lecturer": "Dr. Carol White"
        },
        "Physics II": {
            "prerequisites": ["Physics I"],
            "summary": "Continuation of Physics I.",
            "term": "Spring",
            "lecturer": "Dr. Dan Brown"
        },
        "Computer Science I": {
            "prerequisites": [],
            "summary": "Introduction to computer science.",
            "term": "Autumn",
            "lecturer": "Dr. Eve Black"
        },
        "Computer Science II": {
            "prerequisites": ["Computer Science I"],
            "summary": "Advanced topics in computer science.",
            "term": "Spring",
            "lecturer": "Dr. Frank Green"
        },
        "Algorithms": {
            "prerequisites": ["Computer Science I"],
            "summary": "Study of algorithms.",
            "term": "Autumn",
            "lecturer": "Dr. Grace Miller"
        },
        "Data Structures": {
            "prerequisites": ["Computer Science I"],
            "summary": "Study of data structures.",
            "term": "Spring",
            "lecturer": "Dr. Henry Wilson"
        },
        "Machine Learning": {
            "prerequisites": ["Mathematics II", "Algorithms"],
            "summary": "Introduction to machine learning.",
            "term": "Autumn",
            "lecturer": "Dr. Irene Davis"
        },
        "Artificial Intelligence": {
            "prerequisites": ["Data Structures"],
            "summary": "Study of artificial intelligence.",
            "term": "Spring",
            "lecturer": "Dr. Jack Clark"
        },
        "Database Systems": {
            "prerequisites": ["Computer Science I"],
            "summary": "Introduction to database systems.",
            "term": "Autumn",
            "lecturer": "Dr. Karen Martinez"
        },
    };

    const modulesByYear = {
        "Year 1": ["Mathematics I", "Physics I", "Computer Science I"],
        "Year 2": ["Mathematics II", "Physics II", "Computer Science II", "Algorithms", "Data Structures"],
        "Year 3": ["Machine Learning", "Artificial Intelligence", "Database Systems"]
    };

    document.addEventListener('DOMContentLoaded', () => {
        // Tab functionality
        const tabLinks = document.querySelectorAll('.tab-link');
        tabLinks.forEach(link => {
            link.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
                document.querySelector(`#${link.dataset.tab}`).classList.add('active');
            });
        });

        // Populate module options
        const completedModulesSelect = document.getElementById('completed-modules');
        const desiredModulesSelect = document.getElementById('desired-modules');
        Object.keys(modulesDb).forEach(module => {
            const option = document.createElement('option');
            option.value = module;
            option.textContent = module;
            completedModulesSelect.appendChild(option.cloneNode(true));
            desiredModulesSelect.appendChild(option);
        });

        // Handle completed modules selection
        completedModulesSelect.addEventListener('change', () => {
            const selectedModules = Array.from(completedModulesSelect.selectedOptions).map(option => option.value);
            const availableModules = findAvailableModules(selectedModules, modulesDb);
            const availableModulesDiv = document.getElementById('available-modules');
            availableModulesDiv.innerHTML = '';
            if (availableModules.length > 0) {
                availableModules.forEach(module => {
                    const moduleCard = document.createElement('div');
                    moduleCard.classList.add('module-card');
                    moduleCard.innerHTML = `
                        <h3>${module}</h3>
                        <p>${modulesDb[module].summary}</p>
                        <p><strong>Term:</strong> ${modulesDb[module].term}</p>
                        <p><strong>Lecturer:</strong> ${modulesDb[module].lecturer}</p>
                    `;
                    availableModulesDiv.appendChild(moduleCard);
                });
            } else {
                availableModulesDiv.textContent = 'No available modules based on your current selections.';
            }
        });

        // Handle desired modules selection
        desiredModulesSelect.addEventListener('change', () => {
            const selectedModules = Array.from(desiredModulesSelect.selectedOptions).map(option => option.value);
            const prerequisites = getPrerequisites(selectedModules, modulesDb);
            const prerequisitesDiv = document.getElementById('prerequisites');
            prerequisitesDiv.innerHTML = '';
            if (Object.keys(prerequisites).length > 0) {
                Object.entries(prerequisites).forEach(([module, prereqs]) => {
                    const prereqCard = document.createElement('div');
                    prereqCard.classList.add('prereq-card');
                    prereqCard.innerHTML = `
                        <h3>${module}</h3>
                        <p><strong>Prerequisites:</strong> ${prereqs.length ? prereqs.join(', ') : 'None'}</p>
                    `;
                    prerequisitesDiv.appendChild(prereqCard);
                });
            } else {
                prerequisitesDiv.textContent = 'Select modules to see their prerequisites.';
            }
        });

        // Display modules by year
        const modulesByYearDiv = document.getElementById('modules-by-year');
        Object.entries(modulesByYear).forEach(([year, modules]) => {
            const yearCard = document.createElement('div');
            yearCard.classList.add('year-card');
            yearCard.innerHTML = `<h3>${year}</h3>`;
            modules.forEach(module => {
                yearCard.innerHTML += `
                    <div>
                        <h4>${module}</h4>
                        <p><strong>Prerequisites:</strong> ${modulesDb[module].prerequisites.length ? modulesDb[module].prerequisites.join(', ') : 'None'}</p>
                        <p><strong>Summary:</strong> ${modulesDb[module].summary}</p>
                        <p><strong>Term:</strong> ${modulesDb[module].term}</p>
                        <p><strong>Lecturer:</strong> ${modulesDb[module].lecturer}</p>
                    </div>
                `;
            });
            modulesByYearDiv.appendChild(yearCard);
        });

        // Dummy function to find available modules
        function findAvailableModules(completedModules, modulesDb) {
            const availableModules = [];
            for (const [module, details] of Object.entries(modulesDb)) {
                if (!completedModules.includes(module)) {
                    const prerequisites = details.prerequisites;
                    if (prerequisites.every(prereq => completedModules.includes(prereq))) {
                        availableModules.push(module);
                    }
                }
            }
            return availableModules;
        }

        // Dummy function to get prerequisites for desired modules
        function getPrerequisites(modules, modulesDb) {
            const prerequisites = {};
            modules.forEach(module => {
                prerequisites[module] = modulesDb[module].prerequisites || [];
            });
            return prerequisites;
        }

        // Graph rendering placeholder
        // You can use a library like D3.js or Cytoscape.js to render the graph
        const moduleGraphDiv = document.getElementById('module-graph');
        moduleGraphDiv.textContent = 'Graph rendering not implemented in this example.';
    });
</script>

</body>
</html>
